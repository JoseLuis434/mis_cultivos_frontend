import"./hoisted.DIC1WmG9.js";const o=document.querySelector("#form"),e=document.querySelector(".falseValidation"),t=document.querySelectorAll(".icon-tabler-eye");o.addEventListener("submit",s=>{if(s.preventDefault(),o.password.value===""||o.validate.value==="")e.style.display="block",e.innerHTML="⚠️ Rellena los campos";else if(o.password.value!=o.validate.value)e.style.display="block",e.innerHTML="⚠️ Las contraseñas no coinciden";else{e.style.display="none";let a=new FormData;a.append("password",o.password.value),a.append("email",localStorage.getItem("email")),a.append("code",localStorage.getItem("code")),fetch("http://localhost:8000/api/updatePassword",{method:"post",body:a}).then(l=>l.json()).then(l=>{l.message=="success"&&(localStorage.clear(),o.submit()),l.message=="error"?(e.style.display="block",e.innerHTML="⚠️ Ha ocurrido un error"):l.message.password&&(e.style.display="block",e.innerHTML="⚠️ La contraseña no puede ser igual a la anterior")})}});t.forEach(s=>{s.addEventListener("click",()=>{s.classList.toggle("visible");let a=s.previousElementSibling;s.classList.contains("visible")?(s.style.color="#d1d1d1",a.type="text"):(s.style.color="#000000",a.type="password")})});
