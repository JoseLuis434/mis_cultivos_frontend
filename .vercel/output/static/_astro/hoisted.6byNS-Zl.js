import"./hoisted.DIC1WmG9.js";const e=document.querySelector("form"),t=document.querySelector(".icon-tabler-eye");t.addEventListener("click",()=>{t.classList.toggle("visible");let s=t.previousElementSibling;t.classList.contains("visible")?(t.style.color="#000000",s.type="text"):(t.style.color="#d1d1d1",s.type="password")});const l=document.querySelector(".falseValidation");e.addEventListener("submit",s=>{s.preventDefault();const a=e.email.value,i=e.password.value;if(a===""||i==="")l.style.display="block",l.innerHTML="⚠️ Rellena los campos";else if(!r(a))l.style.display="block",l.innerHTML="⚠️ Ingresa un email válido";else{l.style.display="none";const n=new FormData(e);fetch("http://localhost:8000/api/login",{method:"POST",body:n}).then(o=>o.json()).then(o=>{console.log(o),o.message==="authorized"?(localStorage.setItem("email",e.email.value),localStorage.setItem("password",e.password.value),e.submit()):(l.style.display="block",l.innerHTML="⚠️ Credenciales inválidas")})}});function r(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}
