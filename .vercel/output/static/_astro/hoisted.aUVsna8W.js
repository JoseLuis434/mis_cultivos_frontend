import"./hoisted.DIC1WmG9.js";const l=document.querySelector("form"),e=document.querySelector(".falseValidation"),r=document.querySelectorAll(".icon-tabler-eye");r.forEach(s=>{s.addEventListener("click",()=>{s.classList.toggle("visible");let t=s.previousElementSibling;s.classList.contains("visible")?(s.style.color="#000000",t.type="text"):(s.style.color="#d1d1d1",t.type="password")})});l.addEventListener("submit",s=>{s.preventDefault();const t=l.email.value,o=l.password.value,i=l.passwordCofirmation.value;if(t===""||o==="")e.style.display="block",e.innerHTML="⚠️ Rellena los campos";else if(!c(t))e.style.display="block",e.innerHTML="⚠️ Ingresa un email válido";else if(o!==i)e.style.display="block",e.innerHTML="⚠️ Las contraseñas no coinciden";else{e.style.display="none";const n=new FormData(l);fetch("http://localhost:8000/api/register",{method:"POST",body:n}).then(a=>a.json()).then(a=>{a.message=="created"?(localStorage.setItem("code-register","true"),localStorage.setItem("email",l.email.value),l.submit()):a.message.email?(e.style.display="block",e.innerHTML="⚠️ El email ya ha sido registrado"):a.message.password&&(e.style.display="block",e.innerHTML="⚠️ La contraseña debe tener al menos 6 caracteres")})}});function c(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}
